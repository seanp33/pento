<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 18, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Shadowman - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20130618" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
      
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                  <a href="https://bitbucket.org/smonaghan/shadowman/" id="bannerLeft">
                                                                                                <img src="images/shadowman_logo.png"  alt="Shadowman"/>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2013-06-18</li>
                      
                
                    
                 <li id="projectVersion" class="pull-right">Version: 1.0.0-SNAPSHOT</li>
      
                  </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>Topics</h5>
                  <ul>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="goals.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="getting_started.html" title="Getting Started">Getting Started</a>
            </li>
                  <li class="none">
                          <a href="concepts.html" title="Concepts">Concepts</a>
            </li>
                  <li class="none">
            <strong>Agent Configuration</strong>
          </li>
                  <li class="none">
                          <a href="ec2_deployment.html" title="Automated Deployment to Amazon EC2">Automated Deployment to Amazon EC2</a>
            </li>
                  <li class="none">
                          <a href="simulation_definitions.html" title="Simulation Definitions">Simulation Definitions</a>
            </li>
                  <li class="none">
                          <a href="evaluation_guidelines.html" title="Evaluation Guidelines">Evaluation Guidelines</a>
            </li>
                  <li class="none">
                          <a href="roadmap.html" title="Road Map">Road Map</a>
            </li>
                  <li class="none">
                          <a href="transition_plan.html" title="Transition Plan">Transition Plan</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="shadowman-store/index.html" title="shadowman-store">shadowman-store</a>
            </li>
                  <li class="none">
                          <a href="shadowman-core/index.html" title="shadowman-core">shadowman-core</a>
            </li>
                  <li class="none">
                          <a href="shadowman-simulation/index.html" title="shadowman-simulation">shadowman-simulation</a>
            </li>
                  <li class="none">
                          <a href="shadowman-local-dev-resources/index.html" title="shadowman-local-dev-resources">shadowman-local-dev-resources</a>
            </li>
                  <li class="none">
                          <a href="shadowman-agent/index.html" title="shadowman-agent">shadowman-agent</a>
            </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h1>Agent Configuration</h1><p>Each Shadowman agent is defined and configured by a central xml configuration. It is this configuration that is specified when starting an agent.</p>
<div class="source"><pre class="prettyprint"># purple.xml as a classpath resource
java -cp agent/target/shadowman-agent-1.0.0-SNAPSHOT.jar shadowman.Main purple.xml

</pre></div>
<div class="source"><pre class="prettyprint"># or purple.xml as a filepath resource
java -cp agent/target/shadowman-agent-1.0.0-SNAPSHOT.jar shadowman.Main file:///tmp/purple.xml

</pre></div><p>On startup, the agents configuration xml is deserialized into an instance of <b>shadowman.agent.configuration.AgentConfiguration</b>.</p><div class="section"><h2>Agent Configuration schema<a name="Agent_Configuration_schema"></a></h2><p>The following xml schema details each element.</p>
<div class="source"><pre class="prettyprint">  &lt;!--root element--&gt;
  &lt;xs:element name=&quot;agentConfiguration&quot; type=&quot;agentConfigurationType&quot;/&gt;

  &lt;!-- the agent configuration --&gt;
  &lt;xs:complexType name=&quot;agentConfigurationType&quot;&gt;
    &lt;xs:sequence&gt;

      &lt;!-- the human readable name of the agent suitable for logging or GUI --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;agentName&quot;/&gt;

      &lt;!-- a hex color value available for GUI --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;agentColor&quot;/&gt;

      &lt;!-- the port the agent will expose all services through--&gt;
      &lt;xs:element type=&quot;xs:short&quot; name=&quot;port&quot;/&gt;

      &lt;!-- the url of the agent including only scheme and host--&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;baseUrl&quot;/&gt;

      &lt;!--
            the application's root path component of the url, maintaining a leading &quot;/&quot;.
            All other path specs fall under the appPathSpec
      --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;appPathSpec&quot;/&gt;

      &lt;!-- the path the CometD servlet will be served by --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;cometdPathSpec&quot;/&gt;

      &lt;!-- the path the Oort servlet will be served by --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;oortPathSpec&quot;/&gt;

      &lt;!-- the path the Seti servlet will be served by --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;setiPathSpec&quot;/&gt;

      &lt;!-- the path the Jolokia servlet will be served by --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;jolokiaPathSpec&quot;/&gt;

      &lt;!-- the path which will serve all static resources (css, html, javascript) --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;staticPathSpec&quot;/&gt;

      &lt;!-- the path the StatementDistributionServlet servlet will be served by --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;statementDistributionPathSpec&quot;/&gt;

      &lt;!-- A string-based secret all agents must share in order to establish an Oort cluster--&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;oortSecret&quot;/&gt;

      &lt;!--
            A list of channels to whose messages will automatically be distributed to all agents
            as well as being automatically observed at startup.
            @see org.cometd.oort.OortStaticConfigServlet.OORT_CLOUD_PARAM
      --&gt;
      &lt;xs:element type=&quot;oortChannelsType&quot; name=&quot;oortChannels&quot;/&gt;

      &lt;!--
            A collection of topologyType elements defining logical groupings of agents.
            @see shadowman.topology.KnownUniverse
      --&gt;
      &lt;xs:element type=&quot;knownUniverseType&quot; name=&quot;knownUniverse&quot;/&gt;

      &lt;!-- @see org.cometd.oort.OortStaticConfigServlet.OORT_CLIENT_DEBUG_PARAM --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;clientDebug&quot;/&gt;

      &lt;!--
            Number of milliseconds a org.cometd.client.BayeuxClient will wait for a
            org.cometd.client.BayeuxClient.State.CONNECTED state before considering
            a handshake with another agent unsuccessful.
            @ see org.cometd.client.BayeuxClient#waitFor
      --&gt;
      &lt;xs:element type=&quot;xs:integer&quot; name=&quot;clientTimeout&quot;/&gt;

      &lt;!--
            Minimum number of threads specified for embedded Jetty's threadpool. The resulting
            threadpool will service all agent to agent connections.
            @see org.eclipse.jetty.util.thread.QueuedThreadPool
      --&gt;
      &lt;xs:element type=&quot;xs:integer&quot; name=&quot;minThreads&quot;/&gt;

      &lt;!--
            Maximum number of threads specified for embedded Jetty's threadpool. The resulting
            threadpool will service all agent to agent connections.
            @see org.eclipse.jetty.util.thread.QueuedThreadPool
      --&gt;
      &lt;xs:element type=&quot;xs:integer&quot; name=&quot;maxThreads&quot;/&gt;

      &lt;!--
            Maximum number of milliseconds a thread within embedded Jetty's threadpool can
            idle. Threads that are idle for longer than this period may be stopped.
            @see org.eclipse.jetty.util.thread.QueuedThreadPool
      --&gt;
      &lt;xs:element type=&quot;xs:integer&quot; name=&quot;maxIdleTimeMs&quot;/&gt;

      &lt;!--
            Maximum number of milliseconds Jetty will wait for progress to occur over
            a connection, which roughly translates to the Socket.setSoTimeout(int)
            @see org.eclipse.jetty.server.ssl.SslSelectChannelConnector#maxIdleTime
      --&gt;
      &lt;xs:element type=&quot;xs:integer&quot; name=&quot;connectorMaxIdleTime&quot;/&gt;

      &lt;!-- Enforces strict CometD message ordering for websockets via ws.metaConnectDeliverOnly--&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;forceMessageOrder&quot;/&gt;

      &lt;!-- name of the database to use for storage of facts--&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;dbName&quot; /&gt;

      &lt;!-- jdbc driver name --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;dbDriverName&quot;/&gt;

      &lt;!-- database username--&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;dbUsername&quot;/&gt;

      &lt;!-- database password--&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;dbPassword&quot;/&gt;

      &lt;!-- seed table creation ddl to execute at startup --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;seedDdl&quot;/&gt;

      &lt;!-- any seed data to insert at start up --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;seedData&quot;/&gt;

      &lt;!-- any seed sql to execute at start up --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;seedSql&quot;/&gt;

      &lt;!-- whether to drop existing database on startup--&gt;
      &lt;xs:element type=&quot;xs:boolean&quot; name=&quot;dropTables&quot;/&gt;

      &lt;!--file:// or classpath:/ resource maintaining agent keystore --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;keystore&quot;/&gt;

      &lt;!-- keystore password --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;keystorePassword&quot;/&gt;

      &lt;!-- file:// or classpath:/ resource maintaining agent trustore --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;truststore&quot;/&gt;

      &lt;!-- trustore password --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;truststorePassword&quot;/&gt;

      &lt;!--
            Number of milliseconds between quorum-wide &quot;keep-alive&quot; beacon. An
            agent who beacons is recognized by its peers as part of the quorum
      --&gt;
      &lt;xs:element type=&quot;xs:short&quot; name=&quot;beaconFrequency&quot;/&gt;

      &lt;!-- Number of milliseconds before beacon will be broadcast at startup --&gt;
      &lt;xs:element type=&quot;xs:byte&quot; name=&quot;beaconDelay&quot;/&gt;

      &lt;!--
            Algorithm used to generate checksums for local statement distribution storage.
            @see java.security.MessageDigest#getInstance
            @see shadowman.filter.StatementDistributionRepository
      --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;digestAlgorithm&quot;/&gt;

      &lt;!--
            file path for local statement distribution storage
            @see shadowman.filter.StatementDistributionRepository
      --&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;statementDistributionStoragePath&quot;/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:complexType name=&quot;oortChannelsType&quot;&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;channel&quot;/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:complexType name=&quot;memberType&quot;&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name=&quot;name&quot; /&gt;
      &lt;xs:element name=&quot;confidence&quot; /&gt;
      &lt;/xs:element&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:complexType name=&quot;knownUniverseType&quot;&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element type=&quot;topologyType&quot; name=&quot;topology&quot;/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name=&quot;topologyType&quot;&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element type=&quot;xs:string&quot; name=&quot;name&quot;/&gt;
      &lt;xs:element type=&quot;memberType&quot; name=&quot;member&quot; maxOccurs=&quot;unbounded&quot; minOccurs=&quot;1&quot;/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;

&lt;/xs:schema&gt;

</pre></div></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2013.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
