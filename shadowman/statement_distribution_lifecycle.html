<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jun 19, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Shadowman - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20130619" />
    <meta http-equiv="Content-Language" content="en" />
    
        </head>
  <body>
      
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                  <a href="http://bit.ly/140oGsg" id="bannerLeft">
                                                                                                <img src="images/shadowman_logo.png"  alt="Shadowman"/>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2013-06-19</li>
                      
                
                    
                 <li id="projectVersion" class="pull-right">Version: 1.0.0-SNAPSHOT</li>
      
                  </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>Topics</h5>
                  <ul>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="goals.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="getting_started.html" title="Getting Started">Getting Started</a>
            </li>
                  <li class="none">
                          <a href="concepts.html" title="Concepts">Concepts</a>
            </li>
                  <li class="none">
            <strong>Statement Distribution and Bloom Filter Lifecycle</strong>
          </li>
                  <li class="none">
                          <a href="agent_configuration.html" title="Agent Configuration">Agent Configuration</a>
            </li>
                  <li class="none">
                          <a href="ec2_deployment.html" title="Automated Deployment to Amazon EC2">Automated Deployment to Amazon EC2</a>
            </li>
                  <li class="none">
                          <a href="simulation_definitions.html" title="Simulation Definitions">Simulation Definitions</a>
            </li>
                  <li class="none">
                          <a href="evaluation_guidelines.html" title="Evaluation Guidelines">Evaluation Guidelines</a>
            </li>
                  <li class="none">
                          <a href="roadmap.html" title="Road Map">Road Map</a>
            </li>
                  <li class="none">
                          <a href="transition_plan.html" title="Transition Plan">Transition Plan</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                        <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                      <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="shadowman-store/index.html" title="shadowman-store">shadowman-store</a>
            </li>
                  <li class="none">
                          <a href="shadowman-core/index.html" title="shadowman-core">shadowman-core</a>
            </li>
                  <li class="none">
                          <a href="shadowman-simulation/index.html" title="shadowman-simulation">shadowman-simulation</a>
            </li>
                  <li class="none">
                          <a href="shadowman-local-dev-resources/index.html" title="shadowman-local-dev-resources">shadowman-local-dev-resources</a>
            </li>
                  <li class="none">
                          <a href="shadowman-agent/index.html" title="shadowman-agent">shadowman-agent</a>
            </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          <h1>Statement Distribution and Bloom Filter Lifecycle</h1><p>Shadowman leverages a bloom filter implementation to dynamically produce <a href="apidocs/shadowman/pento/distribution/BayeuxClientDistribution.html">BayeuxClientDistribution</a> instances which intelligently exclude the agents from a query's distribution that are known <b>not</b> to contain statements which would satisfy the query.</p><p>The following abstractions form the core of the bloom filter system.</p>
<ul>
  <li><a href="apidocs/shadowman/filter/StatementDistribution.html">StatementDistribution</a>: A probability distribution that will define if a PentoQuery will return results from this distribution.</li>
  <li><a href="apidocs/shadowman/filter/BloomFilter.html">BloomFilter</a>: The bloom filter implementation</li>
  <li><a href="apidocs/shadowman/filter/BloomFilterStatementDistribution.html">BloomFilterStatementDistribution</a>: An StatementDistribution implementation which leverages a BloomFilter to determine probability</li>
  <li><a href="apidocs/shadowman/pento/filter/StatementDistributionReader.html">StatementDistributionReader</a> A <a class="externalLink" href="http://seanp33.github.io/pento/apidocs/pento/store/worker/PentoStoreWorker.html">PentoStoreWorker</a> implementation which performs distributed query as informed by its StatementDistribution implementation</li>
  <li><a href="apidocs/shadowman/pento/filter/StatementDistributionReaderFactory.html">StatementDistributionReaderFactory</a>: A PentoStoreWorkerFactory implementation which produces StatementDistributionReader to perform distributed query informed by its StatementDistribution implementation. Shadowman utilizes the PentoStoreWorkerFactory in combination with the DefaultPentoStore to automatically produce optimized federated query.</li>
  <li><a href="apidocs/shadowman/filter/StatementDistributionRepository.html">StatementDistributionRepository</a>: A <a href="apidocs/shadowman/repository/Repository.html">Repository</a> implementation and <a href="apidocs/shadowman/repository/SimpleObjectFileRepository.html">SimpleObjectRepository</a> wrapper which provides file-based storage and retrieval of serialized StatementDistribution instances</li>
  <li><a href="apidocs/shadowman/filter/update/HttpStatementDistributionDownloadService.html">HttpStatementDistributionDownloadService</a>: A <a href="apidocs/shadowman/filter/update/StatementDistributionLoader.html">StatementDistributionUpdateLoader</a> implementation responsible for pulling StatementDistributions as application/octet streams via HTTP from remote agents</li>
  <li><a href="apidocs/shadowman/servlet/StatementDistributionServlet.html">StatementDistributionServlet</a> A <a class="externalLink" href="http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServlet.html">HttpServlet</a> hosted by each agent which services incoming StatementDistribution download requests as issued by HttpStatementDistributionDownloadService</li>
</ul>
<hr /><p>The following sequences describe the primary flow of logic through Statement Distribution and Bloom Filter Lifecycle components</p><div class="section"><h2>Optimized Federated Query<a name="Optimized_Federated_Query"></a></h2><p>Shadowman's optimized federated query capability begins at the <a href="apidocs/shadowman/service/DataService.html">DataService</a> , a CometD service accepting a WHERE clause on an inbound &quot;/service/data/select&quot;&quot; channel and ending by delivering all results through an outboud &quot;/data/selected&quot; channel. <img src="images/shadowman_optimized_federated_query1.png" alt="Optimized Query Path; 1 of 2" /> <img src="images/shadowman_optimized_federated_query2.png" alt="Optimized Query Path; 2 of 2" /></p></div><div class="section"><h2>Futher development<a name="Futher_development"></a></h2><p>Note that the current bloom implementation does not support deletes. It is recommended that future development migrate to a <a class="externalLink" href="http://en.wikipedia.org/wiki/Bloom_filter#Counting_filters">counting bloom</a> implementation to address this limitation. Future work should also consider a mechanism where by a bloom filter can be rebuilt from the underlying database as part of a routine database operation. For this reason, it should be known that all delete operations will not properly inform the bloom filter that deleted facts are no longer at rest within the store, resulting in a higher rate of false positives throughout the quorum.</p></div>
                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                   2013.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
